# MFGStudio Release Notes

更新履歴です。[MFG Studioのダウンロードページ](https://modernfilterlanguageforgpu.org/download/)

## 1.0.08 2025-11-20

FireAlpaca SE 3.0の正式リリースに合わせて、同じエンジンの入ったMFGStudioをリリース。

- `fore_color()`, `back_color()`で、アプリのブラシの現在選択されている色とその裏の色（グラデーションなどで使うback color）をとれるようにする（[リファレンス: ユーザー定義関数と組み込み関数](Reference/BultinFunctions.md), [MEP 28: 前景色の取得](MEP/28.md)）
- MFGStudioにカラーピッカーを追加（ウィンドウのメニューから表示出来る）。これで`fore_color()`, `back_color()`でとれる色を指定出来る
- `ts.extent()`のf32版、`ts.extentf()`を追加([リファレンス: テンソル](Reference/Tensor.md))

## 1.0.07 2025-11-05

- サムネイルのベースとなるthumbnail_base.mdzをプレビューのターゲットに追加
- 現在のプレビューをthumbnail.pngとしてインポートする機能を追加

サムネイルは512x512のpng画像でthumbnail.pngというファイル名としてmarファイルに含めるものとします。

## v1.0.06 2025-09-22

- 長時間実行時のキャンセルを実装
- `@version`属性の実装
- 次の行の行頭がパイプライン演算子だった時は継続行とみなす（MEP 27）
- バグfix
  - ユーザー定義関数でletのdestructuringが行われていた時に変数名の衝突が起こる事があるバグの修正
  - `!`のベクトライズ処理が漏れていたので修正
  - `else`がベクトルでないタプルの時にコンパイルエラーになっていたのでifelと同様の制約に修正
  - インライン関数が一定以上増えるとクラッシュしていたバグの修正
  - HLSLやMetalのレイヤーでのコンパイルエラーのキャッチ漏れでクラッシュしていたので修正

## v1.0.05 2025-09-04

- 消し忘れていた試用版チェックで8/31以降起動しなくなっていた問題を修正

## v1.0.04 2025-09-01

- ユーザー定義関数でグローバル変数を触るとコンパイルエラーになっていたバグを修正
- xorのサポート
- 16進リテラルのunsigned対応

## v1.0.03 2025-08-18

- 乱数をプレビューと実行で固定して同じ値に
- ユーザー定義関数の追加

## v1.0.02 2025-07-28

- `@param_f32v4`とCOLOR_PICKERの追加 (examplesのperlinノイズ参照)
- `@param_f32v2`を導入して`@param_pos`をdeprecatedに
- png画像のテクスチャをサポート
- strings.jsonとそれを使った国際化を対応 [MEP 25: mar内での国際化](MEP/25.md)
- 予期せぬトークンのパースエラーのエラーメッセージを改善

## v1.0.01 2025-06-24

- vec2を実装
- 5次元以上のベクトライズが動いていなかったのを修正
- marの作成場所を選べるように
- フィルタ実行時の時間を表示
- f32のモジュロが動いていなかったのを修正
- CRTフィルタを追加
- 銅版画トーンフィルタとそれを試すハードミックスのレイヤーモードのプレビュー画像を追加
- CIE XYZカラー関連の変換関数を追加（後述）
- パイプ演算子を実装（後述）

カラー関連変換関数は以下を実装した

- lbgr_to_xyz, xyz_to_u8color, to_xyza
- lbgra_to_u8color, to_lbgra

xyzはCIE XYZカラー。lbgrはガンマ補正でリニアライズしたBGR（0.0〜1.0）。
詳細は[リファレンス: 組み込み関数](Reference/BuiltinFunctions.md)の「色変換とサポートしている色」を参照ください。

パイプ演算子は[リファレンス: 式とベクトライズ演算](Reference/Expression.md)の「パイプ演算子と`...`によるパイプライニング」を参照ください。

## v1.0.00 2025-06-03

最初のリリースです。