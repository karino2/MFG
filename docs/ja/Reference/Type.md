# 型

前: [テンソル](Tensor.md)

MFGでは変数や定数には型があります。
基本的には数値型とそれのタプルのみです。

テンソルやsamplerは型とは別の扱いとなります。

また、タプルの特殊なケースをベクトルとして扱う、という機能もあります。
ここではそうした型に関する話を見ていきます。

## 数値型

MFGの基本となる数値型には、符号無し整数、符号あり整数、浮動小数点数の３つがあり、それぞれu, i, fと呼ばれます。
これにビット数をつけて、i32, u8, f32などと使われます。

fは32のみサポートしています。

iは8, 16, 32をサポートしていますが、
下のハードウェアとしては32ビットとして扱うものも多いため、
あまり小さい型を使うメリットはありません。
基本的にはiはi32を使う事を推奨しています。

また、u32はあまり使わず、整数はなるべくi32を使う事を推奨しています。

例外はu8とu16を色のBGRA成分として使う場合で、この場合はu8とu16を使う事になります。


つまり、数値型は以下が基本となります。

- f32
- i32
- u8とu16 (色成分として)

### 数値のリテラル

`123` などと整数を書くと、これはi32とみなされます。
サイズがいくつでもi32とみなしますし、u8を要求する所に123などと書くと型のミスマッチでエラーとなります。

`123.0` などの小数のリテラルはf32となります。

u32のリテラルとして末尾にuをつける、`123u` というものも存在していますが、
あまり使用は推奨しません。整数はなるべくi32で計算をするようにしましょう。

### 数値型のキャスト

数値型のキャストは、型名のあとにカッコをくくって行います。
型名と同じ関数を呼び出す、と考えても構いません。

例えば以下。

```swift
let a = i32(12.0)
```

このキャストはタプルに対してブロードキャストされます。

```swift
let a = i32([12.0, 3u, 1])
```

aはi32のタプルとなります。
タプルやブロードキャストについては後述します。

## タプル型

タプルは数値を並べたものです。
タプルの要素は別々の型でも構いません。

```swift
let tup = [1, 12.0, 3u]
```

タプルの要素は全て数値型で、現時点ではネストはサポートしていません。

タプルの要素のアクセスにはdestructuringとswizzle演算子があります。

### destructuring

### swizzle演算子

### ベクトライズ

## タプルとベクトル